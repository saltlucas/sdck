<?php//Service Admin Options$ds_prepare_theme_options6 = array(    array(        'type' => 'open'    ),    array('name' => 'Three Services on Home page Options', 'type' => 'options_title'),    array('name' => 'Main service box title', 'desc' => 'Please type your url', 'id' => $ds_theme_key . 'service_box_title', 'type' => 'text_field', 'default_value' => ''),    array('name' => 'Image url on Box 1', 'desc' => 'Please type image url  for  Service Box 1', 'id' => $ds_theme_key . 'home_image_url1', 'type' => 'upload', 'default_value' => ''),    array('name' => 'Link for Box 1', 'desc' => 'Please type your url', 'id' => $ds_theme_key . 'home_link_url1', 'type' => 'type_home_icon_title1', 'default_value' => 'http://'),    array('name' => 'Title Box 1', 'desc' => 'Please type your text', 'id' => $ds_theme_key . 'home_link_title1', 'type' => 'type_home_icon_title1', 'default_value' => ''),    array('name' => 'Description Box 1', 'desc' => 'Please type your text', 'id' => $ds_theme_key . 'home_icon_desc1', 'type' => 'text_area', 'default_value' => ''),    array('name' => 'Image url on Box 2', 'desc' => 'Please type image url  for  Service Box 2', 'id' => $ds_theme_key . 'home_image_url2', 'type' => 'upload', 'default_value' => ''),    array('name' => 'Link for Box 2', 'desc' => 'Please type your url', 'id' => $ds_theme_key . 'home_link_url2', 'type' => 'type_home_icon_title1', 'default_value' => 'http://'),    array('name' => 'Title Box 2', 'desc' => 'Please type your text', 'id' => $ds_theme_key . 'home_link_title2', 'type' => 'type_home_icon_title1', 'default_value' => ''),    array('name' => 'Description Box 2', 'desc' => 'Please type your text', 'id' => $ds_theme_key . 'home_icon_desc2', 'type' => 'text_area', 'default_value' => ''),    array('name' => 'Image url on Box 3', 'desc' => 'Please type image url  for  Service Box 3', 'id' => $ds_theme_key . 'home_image_url3', 'type' => 'upload', 'default_value' => ''),    array('name' => 'Link for Box 3', 'desc' => 'Please type your url', 'id' => $ds_theme_key . 'home_link_url3', 'type' => 'type_home_icon_title1', 'default_value' => 'http://'),    array('name' => 'Title Box 3', 'desc' => 'Please type your text', 'id' => $ds_theme_key . 'home_link_title3', 'type' => 'type_home_icon_title1', 'default_value' => ''),    array('name' => 'Description Box 3', 'desc' => 'Please type your text', 'id' => $ds_theme_key . 'home_icon_desc3', 'type' => 'text_area', 'default_value' => ''),    array(        'type' => 'close'    ));function ds_write_theme_options6() {    global $ds_prepare_theme_options6;    //Media Uploader Scripts    wp_enqueue_script('media-upload');    wp_enqueue_script('thickbox');    //  wp_register_script('my-upload', get_bloginfo('stylesheet_directory') . '/js/uploader.js', array('jquery', 'media-upload', 'thickbox'));    wp_enqueue_script('my-upload');//Media Uploader Style    wp_enqueue_style('thickbox');    ?>    <div class="wrap">        <script type="text/javascript">            jQuery(document).ready(function ($) {                jQuery('.st_upload_button').click(function (e) {                    e.preventDefault();                    var custom_uploader;                    var id = jQuery(this).attr('id');                    //If the uploader object has already been created, reopen the dialog                    if (custom_uploader) {                        custom_uploader.open();                        return;                    }                    //Extend the wp.media object                    custom_uploader = wp.media.frames.file_frame = wp.media({                        title: 'Choose Image',                        button: {                            text: 'Choose Image'                        },                        multiple: false                    });                    //When a file is selected, grab the URL and set it as the text field's value                    custom_uploader.on('select', function () {                        attachment = custom_uploader.state().get('selection').first().toJSON();                        jQuery('#file_' + id).val(attachment.url);                    });                    //Open the uploader dialog                    custom_uploader.open();                });            });        </script>        <form method="post">            <?php            foreach ($ds_prepare_theme_options6 as $value) :                switch ($value['type']) :                    case 'open' :                        ?><ul class="ds_admin">                            <?php                            if ($_REQUEST['reset'])                                echo '<li><div id="message" class="updated fade"><p><strong>Settings Reset.</strong></p></div></li>';                            if ($_REQUEST['saved'])                                echo '<li><div id="message" class="updated fade"><p><strong>Settings Saved.</strong></p></div></li>';                            ?>                            <?php                            break;                        case 'options_title':                            ?>                            <li>                                <div class="icon32" id="icon-options-general"><br/></div>                                <h2><?php echo $value['name']; ?></h2>                            </li>                            <?php                            break;                        case 'text_area':                            ?>                            <?php                            if (get_option($value['id']) == '') : update_option($value['id'], $value['default_value']);                            endif;                            ?>                            <li>                                <h3><?php echo $value['name']; ?></h3>                                <p><?php echo $value['desc']; ?></p>                                <?php                                $settings = array(                                    'teeny' => true,                                    'textarea_rows' => 15,                                    'tabindex' => 1                                );                                wp_editor(get_option($value['id'], $value['default_value']), $value['id'], $settings);                                ?>                            </li>                            <?php                            break;                        case 'upload':                            ?>                            <li>                                <h3><?php echo $value['name']; ?></h3>                                <p><?php echo $value['desc']; ?></p>                                <p><input size="50" name="<?php echo $value['id']; ?>"  class="upload-url" id="file_<?php echo $value['id']; ?>" type="text" value="<?php echo htmlspecialchars(get_option($value['id'], $value['default_value'])); ?>" />                                    <input id="<?php echo $value['id']; ?>" class="st_upload_button" type="button" name="upload_button" value="Upload" /></p>                                <?php                                break;                            case 'text_field':                                ?>                                <?php                                if (get_option($value['id']) == '') : update_option($value['id'], $value['default_value']);                                endif;                                ?>                            <li>                                <h3><?php echo $value['name']; ?></h3>                                <p><?php echo $value['desc']; ?></p>                                <p><input size="50" name="<?php echo $value['id']; ?>" id="<?php echo $value['id']; ?>" type="text" value="<?php echo htmlspecialchars(get_option($value['id'], $value['default_value'])); ?>" /></p>                            </li>                            <?php                            break;                        case 'type_home_icon_title1':                            ?>                            <?php                            if (get_option($value['id']) == '') : update_option($value['id'], $value['default_value']);                            endif;                            ?>                            <li>                                <h3><?php echo $value['name']; ?></h3>                                <p><?php echo $value['desc']; ?></p>                                <p><input size="50" name="<?php echo $value['id']; ?>" id="<?php echo $value['id']; ?>" type="text" value="<?php echo htmlspecialchars(get_option($value['id'], $value['default_value'])); ?>" /></p>                            </li>                            <?php                            break;                        case 'type_home_icon_title2':                            ?>                            <?php                            if (get_option($value['id']) == '') : update_option($value['id'], $value['default_value']);                            endif;                            ?>                            <li>                                <h3><?php echo $value['name']; ?></h3>                                <p><?php echo $value['desc']; ?></p>                                <p><input size="50" name="<?php echo $value['id']; ?>" id="<?php echo $value['id']; ?>" type="text" value="<?php echo htmlspecialchars(get_option($value['id'], $value['default_value'])); ?>" /></p>                            </li>                            <?php                            break;                        case 'type_home_icon_title3':                            ?>                            <?php                            if (get_option($value['id']) == '') : update_option($value['id'], $value['default_value']);                            endif;                            ?>                            <li>                                <h3><?php echo $value['name']; ?></h3>                                <p><?php echo $value['desc']; ?></p>                                <p><input size="50" name="<?php echo $value['id']; ?>" id="<?php echo $value['id']; ?>" type="text" value="<?php echo htmlspecialchars(get_option($value['id'], $value['default_value'])); ?>" /></p>                            </li>                            <?php                            break;                        case 'type_home_icon_link1':                            ?>                            <?php                            if (get_option($value['id']) == '') : update_option($value['id'], $value['default_value']);                            endif;                            ?>                            <li>                                <h3><?php echo $value['name']; ?></h3>                                <p><?php echo $value['desc']; ?></p>                                <p><input size="50" name="<?php echo $value['id']; ?>" id="<?php echo $value['id']; ?>" type="text" value="<?php echo htmlspecialchars(get_option($value['id'], $value['default_value'])); ?>" /></p>                            </li>                            <?php                            break;                        case 'type_home_icon_link2':                            ?>                            <?php                            if (get_option($value['id']) == '') : update_option($value['id'], $value['default_value']);                            endif;                            ?>                            <li>                                <h3><?php echo $value['name']; ?></h3>                                <p><?php echo $value['desc']; ?></p>                                <p><input size="50" name="<?php echo $value['id']; ?>" id="<?php echo $value['id']; ?>" type="text" value="<?php echo htmlspecialchars(get_option($value['id'], $value['default_value'])); ?>" /></p>                            </li>                            <?php                            break;                        case 'type_home_icon_link3':                            ?>                            <?php                            if (get_option($value['id']) == '') : update_option($value['id'], $value['default_value']);                            endif;                            ?>                            <li>                                <h3><?php echo $value['name']; ?></h3>                                <p><?php echo $value['desc']; ?></p>                                <p><input size="50" name="<?php echo $value['id']; ?>" id="<?php echo $value['id']; ?>" type="text" value="<?php echo htmlspecialchars(get_option($value['id'], $value['default_value'])); ?>" /></p>                            </li>                            <?php                            break;                        case 'type_home_icon_desc1':                            ?>                            <?php                            if (get_option($value['id']) == '') : update_option($value['id'], $value['default_value']);                            endif;                            ?>                            <li>                                <h3><?php echo $value['name']; ?></h3>                                <p><?php echo $value['desc']; ?></p>                                <p><textarea name="<?php echo $value['id']; ?>" cols="55" rows="5"><?php echo htmlspecialchars(get_option($value['id'], $value['default_value'])); ?></textarea></p>                            </li>                            <?php                            break;                        case 'type_home_icon_desc2':                            ?>                            <?php                            if (get_option($value['id']) == '') : update_option($value['id'], $value['default_value']);                            endif;                            ?>                            <li>                                <h3><?php echo $value['name']; ?></h3>                                <p><?php echo $value['desc']; ?></p>                                <p><textarea name="<?php echo $value['id']; ?>" cols="55" rows="5"><?php echo htmlspecialchars(get_option($value['id'], $value['default_value'])); ?></textarea></p>                            </li>                            <?php                            break;                        case 'type_home_icon_desc3':                            ?>                            <?php                            if (get_option($value['id']) == '') : update_option($value['id'], $value['default_value']);                            endif;                            ?>                            <li>                                <h3><?php echo $value['name']; ?></h3>                                <p><?php echo $value['desc']; ?></p>                                <p><textarea name="<?php echo $value['id']; ?>" cols="55" rows="5"><?php echo htmlspecialchars(get_option($value['id'], $value['default_value'])); ?></textarea></p>                            </li>                            <?php                            break;                        case 'close':                            ?></ul><?php                        break;                endswitch;            endforeach;            ?>            <p class="submit" style="float: left;">                <input name="save" type="submit" value="Save changes" class="button-primary" />                <input type="hidden" name="action" value="save" />            </p>        </form>        <form method="post">            <p class="submit" style="float: left;">                <input name="reset" type="submit" value="Reset"/>                <input type="hidden" name="action" value="reset" />            </p>        </form>    </div>    <?php}function ds_put_theme_options_in_sidebar6() {    global $ds_prepare_theme_options6;    if ($_GET['page'] == basename(__FILE__)) :        if ('save' == $_REQUEST['action']) :            foreach ($ds_prepare_theme_options6 as $value) :                update_option($value['id'], stripslashes_deep($_REQUEST[$value['id']]));            endforeach;            foreach ($ds_prepare_theme_options6 as $value) :                if (isset($_REQUEST[$value['id']])) :                    update_option($value['id'], stripslashes_deep($_REQUEST[$value['id']]));                else :                    delete_option($value['id']);                endif;            endforeach;            header('Location: admin.php?page=' . basename(__FILE__) . '&saved=true');            die;        elseif ('reset' == $_REQUEST['action']) :            foreach ($ds_prepare_theme_options6 as $value) :                delete_option($value['id']);            endforeach;            header('Location: admin.php?page=' . basename(__FILE__) . '&reset=true');            die;        endif;    endif;    add_submenu_page('functions.php', 'Services  Editor', 'Services Editor', 8, basename(__FILE__), 'ds_write_theme_options6');}add_action('admin_menu', 'ds_put_theme_options_in_sidebar6');?>